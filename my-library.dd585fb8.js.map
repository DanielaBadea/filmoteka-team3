{"mappings":"iiBAeA,IAAAA,EAAAC,EAAA,S,0BAGAC,SAASC,iBAAiB,oBAAoB,WAExBD,SAASE,cAAc,gBAC/BD,iBAAiB,SAG7B,WACE,IAAME,EAAoBH,SAASE,cAAc,wBAC3CE,EAAkBJ,SAASE,cAAc,sBAC/CC,EAAkBE,UAAUC,IAAI,YAChCF,EAAgBC,UAAUE,OAAO,W,IAGnC,WACE,IAAMH,EAAkBJ,SAASE,cAAc,sBAGzCM,GAAc,EAAAC,EAAAC,kBAAiB,UAAY,GAEjD,GAAIF,GAAeA,EAAYG,OAAS,EAAG,CACzC,IAAIC,EAmCV,SAA+BJ,GAI7B,I,kBACE,I,kBACE,GAAIK,SAASC,EAAWC,GAAGC,MAAQH,SAASL,EAAYS,IAAK,CAE3D,IAAMC,EAAeC,EAAArB,EAAA,IAAKgB,EAAWC,IACrCG,EAAaE,YAAcC,EAAWC,QAAO,SAAAC,G,OAASL,EAAaM,UAAUC,SAASF,EAAMP,G,IAAKU,KAAI,SAAAH,G,OAASA,EAAMI,I,IAAMC,KAAK,MAC/HC,EAAeC,KAAKZ,E,GALfa,EAAI,EAAGA,EAAIjB,EAAWH,OAAQoB,IAAGC,EAAAD,E,EAJtCjB,GAAa,EAAAL,EAAAC,kBAAiB,cAC9BW,GAAa,EAAAZ,EAAAC,kBAAiB,cAChCmB,EAAiB,GACZI,EAAI,EAAGA,EAAIzB,EAAYG,OAAQsB,IAAGC,EAAAD,GAU3C,OAAOJ,C,CAjDUM,CAAsB3B,GAC7B4B,EAAgBxB,EAAOc,KAAI,SAAAW,G,IAAGC,EAAcD,EAAdC,eAAgBC,EAAWF,EAAXE,YAAaC,EAAYH,EAAZG,aAAcxB,EAAEqB,EAAFrB,GAAII,EAAWiB,EAAXjB,YAAaqB,EAAYJ,EAAZI,aAC1FC,EAAa,GAEfA,EADEH,EACW,GAAkBI,OAAfC,EAAAC,cAA2BF,OAAZC,EAAAE,SAAS,KAAeH,OAAZJ,GAE9B,mBAEf,IAAMQ,EAAcN,EAAaO,MAAM,EAAG,GAC1C,MAAO,oCAGIL,OAHgC3B,EAAG,+EAInC2B,OADAD,EAAW,wBAKaC,OAJxBL,EAAe,6GAM0BK,OAFjBH,EAAaS,QAAQ,GAAG,iHAIVN,OAFGL,EAAe,kHAGjBK,OADDvB,EAAY,kEACCuB,OAAZI,EAAY,4D,IAI7DnB,KAAK,IAERxB,EAAgB8C,UAAYd,C,MAE5BhC,EAAgB8C,UAAY,iC,CA7ChCC,E","sources":["src/js/queue.js"],"sourcesContent":["// document.addEventListener('DOMContentLoaded', function(){\n//     const queue=document.getElementById('queueButton');\n//     const hiddenQueue = document.querySelector('.hiddenContent-queue');\n//     let imgVisible = false;\n//     queue.addEventListener('click', function(){\n//         if(imgVisible){\n//             hiddenQueue.style.display = 'none';\n//             imgVisible = false;\n//         }else{\n//             hiddenQueue.style.display = 'block';\n//             imgVisible = true;\n\n//         }\n//     })\n// });\nimport { loadLocalStorage} from \"./storage\";\nimport { IMG_BASE_URL, IMG_W500 } from \"./api\";\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\n  const queueButton = document.querySelector('#queueButton');\n  queueButton.addEventListener('click', displayQueueMovies);\n\n  handleQueueButtonClick();\n  function displayQueueMovies() {\n    const watchedMoviesList = document.querySelector('.watched-movies-list');\n    const queueMoviesList = document.querySelector('.queue-movies-list');\n    watchedMoviesList.classList.add('inactive')\n    queueMoviesList.classList.remove('inactive')\n  }\n\n  function handleQueueButtonClick() {\n    const queueMoviesList = document.querySelector('.queue-movies-list');\n\n\n    const queueMovies = loadLocalStorage('queue') || [];\n\n    if (queueMovies && queueMovies.length > 0) {\n      var movies = getQueueMoviesDetails(queueMovies);\n      const postersMarkup = movies.map(({ original_title, poster_path, vote_average, id, genre_names, release_date }) => {\n        let posterPath = '';\n        if (poster_path) {\n          posterPath = `${IMG_BASE_URL}${IMG_W500}/${poster_path}`;\n        } else {\n          posterPath = 'No found poster!';\n        }\n        const releaseYear = release_date.slice(0, 4);\n        return `<li class='list-cards-item' key='${id}'>\n          <img\n            class='poster-list__img'\n            src='${posterPath}'\n            alt='${original_title}'\n            width\n            loading='lazy'\n          />\n          <span class='poster-list-rate'>${vote_average.toFixed(1)}</span>\n          <div class='poster-list-wrap'>\n            <h2 class='poster-list-title text-posters'><b>${original_title}</b></h2>\n            <div class='poster-list-info'>\n              <p class='poster-list-text text-posters'>${genre_names}</p>\n              <p class='poster-list-age text-posters'>| ${releaseYear}</p>\n            </div>\n          </div>\n        </li>`;\n      }).join('');\n\n      queueMoviesList.innerHTML = postersMarkup;\n    } else {\n      queueMoviesList.innerHTML = '<p>No watched movies found.</p>';\n    }\n  }\n});\n\nfunction getQueueMoviesDetails(queueMovies) {\n  const moviesData = loadLocalStorage('moviesData');\n  const genresList = loadLocalStorage('genresList');\n  var moviesDetailed = [];\n  for (let i = 0; i < queueMovies.length; i++) {\n    for (let j = 0; j < moviesData.length; j++) {\n      if (parseInt(moviesData[j].id) === parseInt(queueMovies[i])) {\n        // Adăugați informații despre genuri în detaliile filmelor\n        const movieDetails = { ...moviesData[j] };\n        movieDetails.genre_names = genresList.filter(genre => movieDetails.genre_ids.includes(genre.id)).map(genre => genre.name).join(', ');\n        moviesDetailed.push(movieDetails);\n      }\n    }\n  }\n  return moviesDetailed;\n}\n"],"names":["$dDDEV","parcelRequire","document","addEventListener","querySelector","watchedMoviesList","queueMoviesList","classList","add","remove","queueMovies","$jzQFI","loadLocalStorage","length","movies","parseInt","moviesData","j","id","i","movieDetails","$parcel$interopDefault","genre_names","genresList","filter","genre","genre_ids","includes","map","name","join","moviesDetailed","push","j1","_loop","i1","_loop1","$e45a8be9cfe57eeb$var$getQueueMoviesDetails","postersMarkup","param","original_title","poster_path","vote_average","release_date","posterPath","concat","$b7ONl","IMG_BASE_URL","IMG_W500","releaseYear","slice","toFixed","innerHTML","handleQueueButtonClick"],"version":3,"file":"my-library.dd585fb8.js.map"}