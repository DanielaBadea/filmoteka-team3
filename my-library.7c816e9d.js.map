{"mappings":"oeACA,IAAAA,EAAAC,EAAA,S,aAGAC,SAASC,iBAAiB,oBAAoB,WAC5C,IAAIC,GAAmB,EAEDF,SAASG,cAAc,kBAC/BF,iBAAiB,SAE/B,WACE,MAAMG,EAAoBJ,SAASG,cAAc,wBAEjD,GAAID,EAEAE,EAAgBC,UAAY,GAE3BH,GAAgB,MACd,CACL,MAAMI,GAAgB,EAAAR,EAAAS,kBAAiB,WAEvC,GAAID,GAAiBA,EAAcE,OAAS,EAAG,CAE7C,MAAMC,EAyBd,SAAkCH,GAChC,MAAMI,GAAa,EAAAZ,EAAAS,kBAAiB,cACpC,IAAII,EAAiB,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAcE,OAAQI,IACxC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAWF,OAAQK,IACjCC,SAASJ,EAAWG,GAAGE,MAAQD,SAASR,EAAcM,KACxDD,EAAeK,KAAKN,EAAWG,IAIrC,OAAOF,C,CApCYM,CAAwBX,GACRY,KAAI,EAACC,eAAEA,EAAcC,YAAEA,MAClD,IAAIC,EAAa,GAMjB,OAJEA,EADED,EACW,GAAGE,EAAAC,eAAeD,EAAAE,YAAYJ,IAE9B,mBAER,qFACiEC,WAAoBF,iEAC1DA,0BACjC,IACAM,KAAK,IAERrB,EAAkBC,UAAYI,EAE3BP,GAAgB,C,MAEnBE,EAAkBC,UAAY,kCAE9BH,GAAmB,C","sources":["src/js/watched.js"],"sourcesContent":["// import { STORAGE_KEY_WATCHED } from \"./constants\";\nimport { loadLocalStorage } from \"./storage\";\nimport { IMG_BASE_URL, IMG_W500, getMovieDetails } from \"./api\";\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  let isContentVisible = false; // Variabilă pentru a ține evidența stării vizibilității\n\n  const watchedButton = document.querySelector('#watchedButton');\n  watchedButton.addEventListener('click', handleWatchedButtonClick);\n\n  function handleWatchedButtonClick() {\n    const watchedMoviesList = document.querySelector('.watched-movies-list');\n\n    if (isContentVisible) {\n      // Elimină conținutul\n      watchedMoviesList.innerHTML = '';\n      // Schimbă starea vizibilității\n      isContentVisible = false;\n    } else {\n      const watchedMovies = loadLocalStorage('watched');\n\n      if (watchedMovies && watchedMovies.length > 0) {\n        var movies = getWatchedMoviesDetails(watchedMovies);\n        const postersMarkup = movies.map(({ original_title, poster_path }) => {\n          let posterPath = '';\n          if (poster_path) {\n            posterPath = `${IMG_BASE_URL}${IMG_W500}/${poster_path}`;\n          } else {\n            posterPath = 'No found poster!';\n          }\n          return `\n            <div class='container-posters-ls'><img class='poster-list-img' src=\"${posterPath}\" alt=\"${original_title} loading='lazy'\">\n            <h3 class='poster-list-title'>${original_title}</h3></div>\n          `;\n        }).join('');\n\n        watchedMoviesList.innerHTML = postersMarkup;\n        // Schimbă starea vizibilității\n        isContentVisible = true;\n      } else {\n        watchedMoviesList.innerHTML = '<p>No watched movies found.</p>';\n        // Schimbă starea vizibilității\n        isContentVisible = true;\n      }\n    }\n  }\n});\n\nfunction  getWatchedMoviesDetails(watchedMovies) {\n  const moviesData = loadLocalStorage('moviesData');\n  var moviesDetailed = [];\n  for (let i = 0; i < watchedMovies.length; i++) {\n    for (let j = 0; j < moviesData.length; j++) {\n      if (parseInt(moviesData[j].id) === parseInt(watchedMovies[i])) {\n        moviesDetailed.push(moviesData[j]);\n      }\n    }\n  }\n  return moviesDetailed;\n}\n\n"],"names":["$5uEKZ","parcelRequire","document","addEventListener","isContentVisible","querySelector","watchedMoviesList","innerHTML","watchedMovies","loadLocalStorage","length","postersMarkup","moviesData","moviesDetailed","i","j","parseInt","id","push","$7126a8cfa5cf9b17$var$getWatchedMoviesDetails","map","original_title","poster_path","posterPath","$7rYDH","IMG_BASE_URL","IMG_W500","join"],"version":3,"file":"my-library.7c816e9d.js.map"}