{"mappings":"gfACA,IAAAA,EAAAC,EAAA,S,aAGAC,SAASC,iBAAiB,oBAAoB,WAC5C,IAAIC,GAAmB,EAEDF,SAASG,cAAc,kBAC/BF,iBAAiB,SAE/B,WACE,IAAMG,EAAoBJ,SAASG,cAAc,wBAEjD,GAAID,EAEAE,EAAgBC,UAAY,GAE3BH,GAAgB,MACd,CACL,IAAMI,GAAgB,EAAAR,EAAAS,kBAAiB,cAEvC,GAAID,GAAiBA,EAAcE,OAAS,EAAG,CAC7C,IACMC,EADgBH,EAAcI,MAAM,EAAG,GACTC,KAAI,SAAAC,G,IAAGC,EAAcD,EAAdC,eAAgBC,EAAWF,EAAXE,YACrDC,EAAa,GAMjB,OAJEA,EADED,EACW,GAAkBE,OAAfC,EAAAC,cAA2BF,OAAZC,EAAAE,SAAS,KAAeH,OAAZF,GAE9B,mBAER,sFACqFE,OAApBD,EAAW,WACjDC,OAD0DH,EAAe,kEAC1DG,OAAfH,EAAe,0B,IAEhDO,KAAK,IAERhB,EAAkBC,UAAYI,EAE3BP,GAAgB,C,MAEnBE,EAAkBC,UAAY,kCAE9BH,GAAmB,C","sources":["src/js/watched.js"],"sourcesContent":["// import { STORAGE_KEY_WATCHED } from \"./constants\";\nimport { loadLocalStorage } from \"./storage\";\nimport { IMG_BASE_URL, IMG_W500 } from \"./api\";\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  let isContentVisible = false; // Variabilă pentru a ține evidența stării vizibilității\n  \n  const watchedButton = document.querySelector('#watchedButton');\n  watchedButton.addEventListener('click', handleWatchedButtonClick);\n  \n  function handleWatchedButtonClick() {\n    const watchedMoviesList = document.querySelector('.watched-movies-list');\n    \n    if (isContentVisible) {\n      // Elimină conținutul\n      watchedMoviesList.innerHTML = ''; \n      // Schimbă starea vizibilității\n      isContentVisible = false; \n    } else {\n      const watchedMovies = loadLocalStorage('moviesData');\n  \n      if (watchedMovies && watchedMovies.length > 0) {\n        const limitedMovies = watchedMovies.slice(0, 6);\n        const postersMarkup = limitedMovies.map(({ original_title, poster_path }) => {\n          let posterPath = '';\n          if (poster_path) { \n            posterPath = `${IMG_BASE_URL}${IMG_W500}/${poster_path}`;\n          } else { \n            posterPath = 'No found poster!';\n          }\n          return `\n            <div class='container-posters-ls'><img class='poster-list-img' src=\"${posterPath}\" alt=\"${original_title} loading='lazy'\">\n            <h3 class='poster-list-title'>${original_title}</h3></div>\n          `;\n        }).join('');\n  \n        watchedMoviesList.innerHTML = postersMarkup;\n        // Schimbă starea vizibilității\n        isContentVisible = true; \n      } else {\n        watchedMoviesList.innerHTML = '<p>No watched movies found.</p>';\n        // Schimbă starea vizibilității\n        isContentVisible = true; \n      }\n    }\n  }\n});\n\n"],"names":["$jzQFI","parcelRequire","document","addEventListener","isContentVisible","querySelector","watchedMoviesList","innerHTML","watchedMovies","loadLocalStorage","length","postersMarkup","slice","map","param","original_title","poster_path","posterPath","concat","$b7ONl","IMG_BASE_URL","IMG_W500","join"],"version":3,"file":"my-library.c403f559.js.map"}