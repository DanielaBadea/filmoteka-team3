{"mappings":"oeACA,IAAAA,EAAAC,EAAA,S,aAGAC,SAASC,iBAAiB,oBAAoB,WACtBD,SAASE,cAAc,kBAC/BD,iBAAiB,SAG/B,WACE,MAAME,EAAoBH,SAASE,cAAc,wBAC3CE,EAAkBJ,SAASE,cAAc,sBAC/CC,EAAkBE,UAAUC,OAAO,YACnCF,EAAgBC,UAAUE,IAAI,W,IAGhC,WACE,MAAMJ,EAAoBH,SAASE,cAAc,wBAG3CM,GAAgB,EAAAV,EAAAW,kBAAiB,WAEvC,GAAID,GAAiBA,EAAcE,OAAS,EAAG,CAC7C,IAAIC,EAsBV,SAAkCH,GAChC,MAAMI,GAAa,EAAAd,EAAAW,kBAAiB,cACpC,IAAII,EAAiB,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAcE,OAAQI,IACxC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAWF,OAAQK,IACjCC,SAASJ,EAAWG,GAAGE,MAAQD,SAASR,EAAcM,KACxDD,EAAeK,KAAKN,EAAWG,IAIrC,OAAOF,C,CAhCUM,CAAwBX,GACrC,MAAMY,EAAgBT,EAAOU,KAAI,EAACC,eAAEA,EAAcC,YAAEA,MAClD,IAAIC,EAAa,GAMjB,OAJEA,EADED,EACW,GAAGE,EAAAC,eAAeD,EAAAE,YAAYJ,IAE9B,mBAER,mFACiEC,WAAoBF,+DAC1DA,wBACjC,IACAM,KAAK,IAERzB,EAAkB0B,UAAYT,C,MAE9BjB,EAAkB0B,UAAY,iC,CAhClCC,E","sources":["src/js/watched.js"],"sourcesContent":["// import { STORAGE_KEY_WATCHED } from \"./constants\";\nimport { loadLocalStorage } from \"./storage\";\nimport { IMG_BASE_URL, IMG_W500, getMovieDetails } from \"./api\";\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const watchedButton = document.querySelector('#watchedButton');\n  watchedButton.addEventListener('click', displayWatchedMovies);\n  handleWatchedButtonClick();\n\n  function displayWatchedMovies() {\n    const watchedMoviesList = document.querySelector('.watched-movies-list');\n    const queueMoviesList = document.querySelector('.queue-movies-list');\n    watchedMoviesList.classList.remove('inactive')\n    queueMoviesList.classList.add('inactive')\n  }\n\n  function handleWatchedButtonClick() {\n    const watchedMoviesList = document.querySelector('.watched-movies-list');\n\n\n    const watchedMovies = loadLocalStorage('watched');\n\n    if (watchedMovies && watchedMovies.length > 0) {\n      var movies = getWatchedMoviesDetails(watchedMovies);\n      const postersMarkup = movies.map(({ original_title, poster_path }) => {\n        let posterPath = '';\n        if (poster_path) {\n          posterPath = `${IMG_BASE_URL}${IMG_W500}/${poster_path}`;\n        } else {\n          posterPath = 'No found poster!';\n        }\n        return `\n          <div class='container-posters-ls'><img class='poster-list-img' src=\"${posterPath}\" alt=\"${original_title} loading='lazy'\">\n          <h3 class='poster-list-title'>${original_title}</h3></div>\n        `;\n      }).join('');\n\n      watchedMoviesList.innerHTML = postersMarkup;\n    } else {\n      watchedMoviesList.innerHTML = '<p>No watched movies found.</p>';\n      // Schimbă starea vizibilității\n    }\n  }\n});\n\nfunction  getWatchedMoviesDetails(watchedMovies) {\n  const moviesData = loadLocalStorage('moviesData');\n  var moviesDetailed = [];\n  for (let i = 0; i < watchedMovies.length; i++) {\n    for (let j = 0; j < moviesData.length; j++) {\n      if (parseInt(moviesData[j].id) === parseInt(watchedMovies[i])) {\n        moviesDetailed.push(moviesData[j]);\n      }\n    }\n  }\n  return moviesDetailed;\n}\n\n"],"names":["$5uEKZ","parcelRequire","document","addEventListener","querySelector","watchedMoviesList","queueMoviesList","classList","remove","add","watchedMovies","loadLocalStorage","length","movies","moviesData","moviesDetailed","i","j","parseInt","id","push","$7126a8cfa5cf9b17$var$getWatchedMoviesDetails","postersMarkup","map","original_title","poster_path","posterPath","$7rYDH","IMG_BASE_URL","IMG_W500","join","innerHTML","handleWatchedButtonClick"],"version":3,"file":"my-library.62c3165d.js.map"}